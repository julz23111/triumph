<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Library System</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>ðŸ“š Library System</h1>
      <a href="/admin" class="admin-link">Admin Dashboard</a>
    </header>

    <div class="tabs">
      <button class="tab-btn active" data-tab="add-book">Add Book</button>
      <button class="tab-btn" data-tab="checkout">Check Out</button>
      <button class="tab-btn" data-tab="browse">Browse Books</button>
    </div>

    <!-- Add Book Tab -->
    <div class="tab-content active" id="add-book">
      <h2>Add Book to Library</h2>
      <p class="info">Take a photo of a book to add it to the library database</p>
      
      <div class="camera-section">
        <input type="file" id="add-book-input" accept="image/*" capture="environment" style="display: none;">
        <button class="btn btn-primary" onclick="document.getElementById('add-book-input').click()">
          ðŸ“· Take Photo
        </button>
        <div id="add-book-preview" class="image-preview"></div>
      </div>

      <button id="analyze-btn" class="btn btn-success" style="display: none;">
        Analyze & Add Book
      </button>

      <div id="add-book-result" class="result"></div>
    </div>

    <!-- Checkout Tab -->
    <div class="tab-content" id="checkout">
      <h2>Check Out a Book</h2>
      <p class="info">Enter your name and select a book or take a photo</p>
      
      <div class="form-group">
        <label for="user-name">Your Name:</label>
        <input type="text" id="user-name" placeholder="Enter your name" class="input-field">
      </div>

      <div class="form-group">
        <label>Choose an option:</label>
        <div class="checkout-options">
          <button class="btn btn-secondary" id="select-existing-btn">
            ðŸ“– Select from Library
          </button>
          <button class="btn btn-secondary" id="photo-checkout-btn">
            ðŸ“· Take Photo
          </button>
        </div>
      </div>

      <div id="book-select-section" style="display: none;">
        <label for="book-select">Select Book:</label>
        <select id="book-select" class="input-field">
          <option value="">-- Select a book --</option>
        </select>
      </div>

      <div class="camera-section" id="checkout-camera-section" style="display: none;">
        <input type="file" id="checkout-book-input" accept="image/*" capture="environment" style="display: none;">
        <button class="btn btn-primary" onclick="document.getElementById('checkout-book-input').click()">
          ðŸ“· Take Photo
        </button>
        <div id="checkout-book-preview" class="image-preview"></div>
      </div>

      <button id="checkout-btn" class="btn btn-success" style="display: none;">
        Check Out Book
      </button>

      <div id="checkout-result" class="result"></div>
    </div>

    <!-- Browse Books Tab -->
    <div class="tab-content" id="browse">
      <h2>Library Books</h2>
      <div id="books-list" class="books-list"></div>
    </div>
  </div>

  <div id="loading" class="loading" style="display: none;">
    <div class="spinner"></div>
    <p>Processing...</p>
  </div>

  <script src="app.js"></script>
</body>
</html>
